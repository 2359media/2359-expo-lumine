{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/services/env/index.ts"],"names":[],"mappings":"AAAA,OAAO,SAAS,MAAM,gBAAgB,CAAC;AACvC,OAAO,OAAO,MAAM,2CAA2C,CAAC;AAIhE,IAAI,UAAU,GAAQ,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,KAAK,CAAC;AAE9D,MAAM,UAAU,SAAS,CAAI,IAAgC;IAC3D,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,OAAO,CAAM,CAAC;AACjD,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,GAAS;IAC9B,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;IAC3B,IAAI,GAAG,EAAE;QACP,UAAU,GAAG,GAAG,CAAC;QACjB,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;KAC7B;SAAM;QACL,UAAU,GAAG,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,KAAK,CAAC;QACrD,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;KAC3B;AACH,CAAC;AAED,MAAM,UAAU,MAAM;IACpB,OAAO,UAAU,CAAC;AACpB,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,OAAO;IAC3B,IAAI;QACF,MAAM,GAAG,GAAG,MAAM,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,GAAG,EAAE;YACP,UAAU,GAAG,GAAU,CAAC;SACzB;KACF;IAAC,MAAM,GAAE;AACZ,CAAC","sourcesContent":["import Constants from 'expo-constants';\nimport Storage from '@react-native-async-storage/async-storage';\n\nexport type Env = 'dev' | 'staging' | 'prod' | 'default';\n\nlet currentEnv: Env = Constants.manifest?.extra?.env ?? 'dev';\n\nexport function selectEnv<T>(envs: Partial<{[key in Env]: T}>) {\n  return (envs[currentEnv] ?? envs.default) as T;\n}\n\nexport function setEnv(env?: Env) {\n  console.log('Env: ' + env);\n  if (env) {\n    currentEnv = env;\n    Storage.setItem('env', env);\n  } else {\n    currentEnv = Constants.manifest?.extra?.env ?? 'dev';\n    Storage.removeItem('env');\n  }\n}\n\nexport function getEnv() {\n  return currentEnv;\n}\n\nexport async function loadEnv() {\n  try {\n    const env = await Storage.getItem('env');\n    if (env) {\n      currentEnv = env as Env;\n    }\n  } catch {}\n}\n"]}